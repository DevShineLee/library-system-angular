<div class="container mt-5">
  <h1>Library Books</h1>

  <!-- add book form only display if login user exists -->
  <div *ngIf="isLoggedIn" class="mb-3">
    <h2>Add New Book</h2>
    <form [formGroup]="newBookForm" (ngSubmit)="addBook()">
      <div class="form-group">
        <label for="bookID">Book ID</label>
        <input type="text" id="bookID" class="form-control" formControlName="bookID">
      </div>
      <div class="form-group">
        <label for="genre">Genre</label>
        <input type="text" id="genre" class="form-control" formControlName="genre">
      </div>
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" id="title" class="form-control" formControlName="title">
      </div>
      <div class="form-group">
        <label for="author">Author</label>
        <input type="text" id="author" class="form-control" formControlName="author">
      </div>
      <div class="form-group">
        <label for="ISBN">ISBN</label>
        <input type="text" id="ISBN" class="form-control" formControlName="ISBN">
      </div>
      <button type="submit" class="btn btn-primary mt-3">Add Book</button>
    </form>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Genre</th>
        <th>Title</th>
        <th>Author</th>
        <th>ISBN</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let book of filteredBooks">
        <td>{{ book.bookID }}</td>
        <td>{{ book.genre }}</td>
        <td><a [routerLink]="['/books', book.bookID]">{{ book.title }}</a></td>
        <td>{{ book.author }}</td>
        <td>{{ book.ISBN }}</td>
      </tr>
      <tr *ngIf="filteredBooks.length === 0">
        <td colspan="5" class="text-center">No results found</td>
      </tr>
    </tbody>

  </table>
</div>
